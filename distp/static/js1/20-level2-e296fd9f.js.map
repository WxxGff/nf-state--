{"version":3,"file":"20-level2-e296fd9f.js","sources":["../../../src/views/state-level/20-level2.vue"],"sourcesContent":["<template>\r\n  安全等级 —— level 2 。<br><br>\r\n  不可以直接修改属性，可以通过内置方法、action 来变更状态。<br><br>\r\n  <hr>\r\n \r\n  数据：{{state1}}<br><br>\r\n  getter：{{state1.nameTest}}<br><br>\r\n  \r\n  <el-input\r\n    v-model=\"stateText\"\r\n    type=\"textarea\"\r\n    :autosize=\"{ minRows: 5, maxRows: 10 }\"\r\n  ></el-input>\r\n  \r\n  <hr>\r\n  <el-button type=\"\" @click=\"state1.name='改属性'\"> 修改属性</el-button> 不让改<br>\r\n  <el-button type=\"\" @click=\"state1.$state = {name: '$state 修改'}\"> $state 修改属性</el-button> 不让改 <br>\r\n  <el-button type=\"\" @click=\"state1.$statef({name: '$statef 修改'})\"> $statef 修改属性</el-button> 可以改 <br>\r\n  <el-button type=\"\" @click=\"state1.$patch({name: '模板改 $patch'})\"> patch 修改属性</el-button> 可以改 <br>\r\n  <el-button type=\"\" @click=\"state1.actionTest()\"> actionTest 修改属性</el-button> 可以改 <br><br>\r\n  <el-button type=\"\" @click=\"state1.$reset()\"> 重置</el-button>  <br>\r\n\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n  import { computed } from 'vue'\r\n  import type { InjectionKey } from 'vue'\r\n\r\n  import { defineStore } from '../../../lib/main'\r\n  import type { StateGA } from '../../types/typs'\r\n\r\n  // 定义状态\r\n  const flag = Symbol('level1') as InjectionKey<string>\r\n\r\n  const state1 = defineStore<StateGA>(flag, {\r\n    state: (): StateGA => {\r\n      return {\r\n        name: '一般级别',\r\n        age: 18\r\n      }\r\n    },\r\n    getters: {\r\n      nameTest(): string {\r\n        return this.name + '_通过 getter 获取'\r\n      }\r\n    },\r\n    actions: {\r\n      actionTest() {\r\n        this.name = 'js 文件里 的 action 修改了name'\r\n      }\r\n    }\r\n  },{level: 2})\r\n\r\n  console.log(state1)\r\n\r\n  const stateText = computed(() => JSON.stringify(state1, null , 2))\r\n   \r\n</script>"],"names":[],"mappings":"+zCAgCQ,KAAA,GAAO,OAAO,QAAQ,EAEtB,EAAS,EAAqB,EAAM,CACxC,MAAO,IACE,EACL,KAAM,2BACN,IAAK,EAAA,GAGT,QAAS,CACP,UAAmB,CACjB,MAAO,MAAK,KAAO,mCACrB,CACF,EACA,QAAS,CACP,YAAa,CACX,KAAK,KAAO,4DACd,CACF,CAAA,EACA,CAAC,MAAO,CAAA,CAAE,EAEZ,QAAQ,IAAI,CAAM,EAEZ,KAAA,GAAY,EAAS,IAAM,KAAK,UAAU,EAAQ,KAAO,CAAC,CAAC"}