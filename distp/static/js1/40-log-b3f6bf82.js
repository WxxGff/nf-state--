import"./__vendor-20f7aaa0.js";import{_ as w,u as D}from"../js2/index-957027e5.js";import{d as C,j as k,k as p,o as B,c as V,s as u,p as s,a as t,x as _,F as y,t as n,u as f}from"./_@vue-d07e5c3a.js";import{g as $}from"./test-state-41613e91.js";import"./_@naturefw-81bcec32.js";import"./_element-plus-4b2a156e.js";import"./_@element-plus-fda99c40.js";import"./_@popperjs-01a2ca38.js";const A=n("\u6E05\u7A7A\u65E5\u5FD7"),v=t("br",null,null,-1),x=["onClick"],N=C({props:{state:{type:null,required:!0}},setup(h){const{state:E}=h,a=c=>{const e=new Date(c),d=e.getFullYear(),i=e.getMonth()+1,l=e.getDate();return d+"-"+(i<10?"0"+i:i)+"-"+(l<10?"0"+l:l)+" "+e.toTimeString().substr(0,8)},m=k(()=>{const c=[];return E.$log.forEach((e,d)=>{const i={time:e.time,time2:a(e.time),kind:e.kind,oldValue:JSON.stringify(e.oldValue,null,2),newValue:JSON.stringify(e.newValue,null,2),subValue:JSON.stringify(e.subValue,null,2),callFun:e.callFun};c.push(i)}),c}),b=c=>{console.log(c)};return(c,e)=>{const d=p("el-button"),i=p("el-table-column"),l=p("el-input"),r=p("el-table");return B(),V(y,null,[u(d,{type:"",onClick:e[0]||(e[0]=o=>h.state.$clearLog())},{default:s(()=>[A]),_:1}),v,u(r,{data:_(m),height:350,stripe:"",border:"true","default-sort":{prop:"time2",order:"descending"},style:{width:"100%"}},{default:s(()=>[u(i,{sortable:"",prop:"time2",label:"\u65F6\u95F4",width:"90","header-align":"center"}),u(i,{prop:"kind",label:"\u7C7B\u578B",width:"80","header-align":"center"}),u(i,{prop:"oldValue",label:"\u539F\u503C",width:"300","header-align":"center"},{default:s(o=>[u(l,{modelValue:o.row.oldValue,"onUpdate:modelValue":F=>o.row.oldValue=F,type:"textarea",autosize:{minRows:2,maxRows:5}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),u(i,{prop:"newValue",label:"\u65B0\u503C",width:"300","header-align":"center"},{default:s(o=>[u(l,{modelValue:o.row.newValue,"onUpdate:modelValue":F=>o.row.newValue=F,type:"textarea",autosize:{minRows:2,maxRows:5}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),u(i,{prop:"subValue",label:"\u63D0\u4EA4",width:"300","header-align":"center"},{default:s(o=>[u(l,{modelValue:o.row.subValue,"onUpdate:modelValue":F=>o.row.subValue=F,type:"textarea",autosize:{minRows:2,maxRows:5}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),u(i,{prop:"st",label:"\u5B9A\u4F4D(F12)",width:"50","header-align":"center"},{default:s(o=>[t("a",{href:"javascript:",style:{cursor:"pointer"},onClick:F=>b(o.row.callFun)}," \u70B9\u6211 ",8,x)]),_:1})]),_:1},8,["data"])],64)}}});var g=w(N,[["__file","D:/nf/gitee-ts/nf-code/nf-rollup-state/src/views/state-log/log-table.vue"]]);const O=n(" \u4FEE\u6539\u5C5E\u6027\uFF0C\u4E0D\u4F1A\u8BB0\u65E5\u5FD7\uFF0C\u5176\u4ED6\u53D8\u66F4\u90FD\u53EF\u4EE5\u8BB0\u5F55\u65E5\u5FD7\u3002\uFF08\u9ED8\u8BA4\u4E0D\u8BB0\u5F55\uFF0C\u9700\u8981\u901A\u8FC7 option \u8BBE\u7F6E\uFF09"),R=t("br",null,null,-1),S=t("br",null,null,-1),U=n(" \u5F02\u6B65\u64CD\u4F5C\uFF0C\u5EFA\u8BAE\u4F7F\u7528 async\u3001await\uFF0C\u5426\u5219\u65E0\u6CD5\u8BB0\u5F55\u65B0\u503C\u3002"),T=t("br",null,null,-1),L=t("br",null,null,-1),j=n(" \u53EF\u4EE5\u5B9A\u4F4D\u89E6\u53D1\u72B6\u6001\u53D8\u66F4\u7684\u4EE3\u7801\u4F4D\u7F6E\u3002"),z=t("br",null,null,-1),J=t("br",null,null,-1),q=t("br",null,null,-1),M=t("br",null,null,-1),Y=n("\u4FEE\u6539\u5C5E\u6027\uFF08\u4E0D\u8BB0\u65E5\u5FD7\uFF09"),G=t("br",null,null,-1),H=n("$patch \u4FEE\u6539"),I=t("br",null,null,-1),K=n("$state \u4FEE\u6539"),P=t("br",null,null,-1),Q=n("action \u4FEE\u6539"),W=t("br",null,null,-1),X=t("br",null,null,-1),Z=n("action \u5F02\u6B65\u4FEE\u6539"),tt=t("br",null,null,-1),ut=t("br",null,null,-1),et=n("\u6A21\u677F $patch\u4FEE\u6539"),lt=t("br",null,null,-1),nt=n("\u6A21\u677F $state\u4FEE\u6539"),ot=t("br",null,null,-1),st=n("\u6A21\u677F action\u4FEE\u6539"),at=t("br",null,null,-1),it=t("br",null,null,-1),rt=n(" \u91CD\u7F6E"),ct=n(),_t=t("br",null,null,-1),dt=t("hr",null,null,-1),Ft=t("br",null,null,-1),pt=C({setup(h){const E=$(),a=D("stateLog"),m=()=>{a.name="\u4FEE\u6539\u4E00\u4E0B\uFF1A"+new Date().valueOf()},b=()=>{a.$patch({name:"$patch\u4FEE\u6539"+new Date().valueOf(),age:18})},c=()=>{a.$state={name:"$state \u4FEE\u6539"+new Date().valueOf(),age:18}},e=()=>{a.actionTest()},d=()=>{a.yibu()};return(i,l)=>{const r=p("el-button");return B(),V(y,null,[O,R,S,U,T,L,j,z,J,n(" \u72B6\u6001\uFF1A"+f(_(a)),1),q,M,u(r,{type:"",onClick:m},{default:s(()=>[Y]),_:1}),G,u(r,{type:"",onClick:b},{default:s(()=>[H]),_:1}),I,u(r,{type:"",onClick:c},{default:s(()=>[K]),_:1}),P,u(r,{type:"",onClick:e},{default:s(()=>[Q]),_:1}),W,X,u(r,{type:"",onClick:d},{default:s(()=>[Z]),_:1}),tt,ut,u(r,{type:"",onClick:l[0]||(l[0]=o=>_(a).$patch({name:"\u6A21\u677F\u6539 patch"}))},{default:s(()=>[et]),_:1}),lt,u(r,{type:"",onClick:l[1]||(l[1]=o=>_(a).$state={name:"\u6A21\u677F\u6539 state "})},{default:s(()=>[nt]),_:1}),ot,u(r,{type:"",onClick:l[2]||(l[2]=o=>_(a).actionTest())},{default:s(()=>[st]),_:1}),at,it,u(r,{type:"",onClick:l[3]||(l[3]=o=>_(a).$reset())},{default:s(()=>[rt]),_:1}),ct,_t,u(g,{state:_(a)},null,8,["state"]),dt,n(" js \u6587\u4EF6\u91CC\u5B9A\u4E49\u7684\u72B6\u6001\uFF1A"+f(_(E)),1),Ft,u(g,{state:_(E)},null,8,["state"])],64)}}});var Bt=w(pt,[["__file","D:/nf/gitee-ts/nf-code/nf-rollup-state/src/views/state-global/40-log.vue"]]);export{Bt as default};
//# sourceMappingURL=40-log-b3f6bf82.js.map
